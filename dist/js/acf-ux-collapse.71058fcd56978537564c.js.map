{"version":3,"file":"js/acf-ux-collapse.71058fcd56978537564c.js","mappings":"UAIIA,KAAgBA,GAAiB,CAAC,GACxBC,WAAaD,EAAcC,YAAc,CAAC,EAExDD,EAAcC,WAAWC,SAAW,SAAWC,GAE3C,SAASD,IAELC,EAAE,0EAA0EC,KAAK,SAAUC,EAAOC,GAC9FC,KAAKC,KAAKF,EACd,EAAEG,KAAKF,OAGPJ,EAAEO,UAAUC,GAAG,QAAS,6FAA8F,SAAUC,GAC5HL,KAAKM,OAAOV,EAAES,EAAEE,QAAQC,QAAQ,MAAMC,OAAO,YACjD,EAAEP,KAAKF,OAEPJ,EAAEO,UAAUC,GAAG,QAAS,gCAAiC,SAAUC,GAC/D,IACIK,EADUd,EAAES,EAAEE,QAAQC,QAAQ,iCACXG,QAAQ,YAE1BD,EAASE,SAAS,4BAIvBZ,KAAKM,OAAOI,EAChB,EAAER,KAAKF,MACX,CA8CA,OAvCAL,EAASkB,UAAUZ,KAAO,SAAUF,GAChC,IAAIe,EAASlB,EAAEG,GAEXgB,EAAYD,EAAOE,KAAK,qEAC5BD,EAAUE,YAAY,aAEtBH,EAAOE,KAAK,2DAA2DnB,KAAK,SAAUC,EAAOoB,GACzFtB,EAAEsB,GAASD,YAAY,cAEnBrB,EAAEsB,GAASC,UAAY,MAI3BvB,EAAEsB,GAASE,SAAS,6BACpBxB,EAAEsB,GAASF,KAAK,eAAeK,UAAU,+DACzCzB,EAAEsB,GAASF,KAAK,yBAAyBM,OAAO,6DAEhDtB,KAAKM,OAAOY,GAChB,EAAEhB,KAAKF,OAEPe,EAAUK,SAAS,YACvB,EAOAzB,EAASkB,UAAUP,OAAS,SAASY,GACjC,IAAIR,EAAWd,EAAEsB,GACjBR,EAASa,YAAY,2BAEjBb,EAASE,SAAS,2BAClBF,EAASM,KAAK,uBAAuBQ,KAAK,YAAa,UAEvDd,EAASM,KAAK,uBAAuBQ,KAAK,YAAa,WAE/D,EAEO,IAAI7B,CAEd,CAvEmC,CAuEjC8B,O","sources":["webpack://@helsingborg-stad/advanced-custom-fields-collapser-explore/./source/js/FieldTypes/Repeater.js"],"sourcesContent":["//\n// @name Modal\n// @description  Show accodrion dropdown, make linkable by updating adress bar\n//\nvar AcfUxCollapse = AcfUxCollapse || {};\nAcfUxCollapse.FieldTypes = AcfUxCollapse.FieldTypes || {};\n\nAcfUxCollapse.FieldTypes.Repeater = (function ($) {\n\n    function Repeater() {\n        // Initialize\n        $('div.inside.acf-fields.-top > .acf-field-repeater[data-type=\"repeater\"]').each(function (index, field) {\n            this.init(field);\n        }.bind(this));\n\n        // Click to expand/collapse\n        $(document).on('click', '.acf-field-repeater[data-type=\"repeater\"] .acf-collapser-initialized .acf-row-handle.order', function (e) {\n            this.toggle($(e.target).closest('td').parent('.acf-row'));\n        }.bind(this));\n\n        $(document).on('click', '.acf-collapser-collapser-area', function (e) {\n            var $target = $(e.target).closest('.acf-collapser-collapser-area');\n            var $element = $target.parents('.acf-row');\n\n            if (!$element.hasClass('acf-collapser-collapsed')) {\n                return;\n            }\n\n            this.toggle($element);\n        }.bind(this));\n    }\n\n    /**\n     * Initializes the row collapser\n     * @param  {element} field The field group\n     * @return {void}\n     */\n    Repeater.prototype.init = function (field) {\n        var $field = $(field);\n\n        varÂ $cloneRow = $field.find('> .acf-input > .acf-repeater > table > tbody > .acf-row.acf-clone');\n        $cloneRow.removeClass('acf-clone');\n\n        $field.find('> .acf-input > .acf-repeater > table > tbody > .acf-row').each(function (index, element) {\n            $(element).removeClass('-collapsed');\n\n            if ($(element).height() <= 150) {\n                return;\n            }\n\n            $(element).addClass('acf-collapser-initialized');\n            $(element).find('.acf-fields').wrapInner('<div class=\"acf-collapser-collapser-area acf-fields\"></div>');\n            $(element).find('.acf-row-handle.order').append('<div class=\"acf-collapser-icon\" data-text=\"Expand\"></div>');\n\n            this.toggle(element);\n        }.bind(this));\n\n        $cloneRow.addClass('acf-clone');\n    };\n\n    /**\n     * Toggle collapse/expand\n     * @param  {element} element The element to expand/collapse\n     * @return {void}\n     */\n    Repeater.prototype.toggle = function(element) {\n        var $element = $(element);\n        $element.toggleClass('acf-collapser-collapsed');\n\n        if ($element.hasClass('acf-collapser-collapsed')) {\n            $element.find('.acf-collapser-icon').attr('data-text', 'Expand');\n        } else {\n            $element.find('.acf-collapser-icon').attr('data-text', 'Collapse');\n        }\n    };\n\n    return new Repeater();\n\n})(jQuery);\n"],"names":["AcfUxCollapse","FieldTypes","Repeater","$","each","index","field","this","init","bind","document","on","e","toggle","target","closest","parent","$element","parents","hasClass","prototype","$field","$cloneRow","find","removeClass","element","height","addClass","wrapInner","append","toggleClass","attr","jQuery"],"sourceRoot":""}